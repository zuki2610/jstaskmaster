<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tareas - Task Team Manager</title>
  <link rel="stylesheet" href="../src/assets/style.css">
</head>
<body>
  <header class="layout-header">
    <h1 class="component-title">Gestión de Tareas</h1>
    <nav class="layout-nav">
      <a href="index.html">Inicio</a>
      <a href="tareas.html" class="active">Tareas</a>
    </nav>
  </header>

  <main class="layout-main">
    <section id="assignment-section" class="component-panel" data-js="assignment-section"></section>
  </main>

  <script type="module">
  import { mountAssignment } from "../js/franco.js";

  // Inicializar Storage con datos de prueba si no existen
  if (!localStorage.getItem("ttm:users")) {
    localStorage.setItem("ttm:users", JSON.stringify([
      { id: "user-1", name: "Ana" },
      { id: "user-2", name: "Luis" },
      { id: "user-3", name: "Valentina" },
      { id: "user-4", name: "Christopher" },
      { id: "user-5", name: "Franco" },
      { id: "user-6", name: "Sofía" },
      { id: "user-7", name: "Diego" },
      { id: "user-8", name: "María" },
      { id: "user-9", name: "Andrés" },
      { id: "user-10", name: "Camila" }
    ]));
  }

  if (!localStorage.getItem("ttm:tasks")) {
    localStorage.setItem("ttm:tasks", JSON.stringify([
      { id: "task-1", title: "Pagar factura", assignees: [], done: false },
      { id: "task-2", title: "Enviar reporte", assignees: ["user-2"], done: true },
      { id: "task-3", title: "Responder correo", assignees: ["user-3"], done: true },
      { id: "task-4", title: "Enviar solicitud", assignees: ["user-5"], done: true },
      { id: "task-5", title: "Revisar documentación", assignees: [], done: false },
      { id: "task-6", title: "Actualizar agenda", assignees: [], done: false }
    ]));
  }

  document.addEventListener("DOMContentLoaded", () => {
    mountAssignment();
  });
</script>
</body>
</html>